<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFS UI - 标签页组件</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="../../ffs-ui.js"></script>
</head>
<body>
    <div class="container">
        <h1>标签页组件</h1>

        <!-- 基础标签页 -->
        <section>
            <h2>基础标签页</h2>
            <div class="demo-box">
                <div class="ffs-tabs">
                    <div class="ffs-tabs-nav">
                        <a href="#" class="ffs-tabs-tab active" onclick="switchTab(this, 'tab1')">标签一</a>
                        <a href="#" class="ffs-tabs-tab" onclick="switchTab(this, 'tab2')">标签二</a>
                        <a href="#" class="ffs-tabs-tab" onclick="switchTab(this, 'tab3')">标签三</a>
                    </div>
                    <div class="ffs-tabs-content">
                        <div id="tab1" class="ffs-tabs-pane active">
                            这是第一个标签页的内容。
                        </div>
                        <div id="tab2" class="ffs-tabs-pane">
                            这是第二个标签页的内容。
                        </div>
                        <div id="tab3" class="ffs-tabs-pane">
                            这是第三个标签页的内容。
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 卡片式页签 -->
        <section>
            <h2>卡片式页签</h2>
            <div class="demo-box">
                <div class="ffs-tabs ffs-tabs-card">
                    <div class="ffs-tabs-nav">
                        <a href="#" class="ffs-tabs-tab active" onclick="switchTab(this, 'card1')">卡片一</a>
                        <a href="#" class="ffs-tabs-tab" onclick="switchTab(this, 'card2')">卡片二</a>
                        <a href="#" class="ffs-tabs-tab" onclick="switchTab(this, 'card3')">卡片三</a>
                    </div>
                    <div class="ffs-tabs-content">
                        <div id="card1" class="ffs-tabs-pane active">
                            这是第一个卡片标签页的内容。
                        </div>
                        <div id="card2" class="ffs-tabs-pane">
                            这是第二个卡片标签页的内容。
                        </div>
                        <div id="card3" class="ffs-tabs-pane">
                            这是第三个卡片标签页的内容。
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 可关闭页签 -->
        <section>
            <h2>可关闭页签</h2>
            <div class="demo-box">
                <div class="ffs-tabs">
                    <div class="ffs-tabs-nav">
                        <a href="#" class="ffs-tabs-tab active">
                            标签一
                            <span class="ffs-tabs-tab-close" onclick="closeTab(this)">×</span>
                        </a>
                        <a href="#" class="ffs-tabs-tab">
                            标签二
                            <span class="ffs-tabs-tab-close" onclick="closeTab(this)">×</span>
                        </a>
                        <a href="#" class="ffs-tabs-tab">
                            标签三
                            <span class="ffs-tabs-tab-close" onclick="closeTab(this)">×</span>
                        </a>
                    </div>
                    <div class="ffs-tabs-content">
                        <div class="ffs-tabs-pane active">
                            这是第一个标签页的内容。
                        </div>
                        <div class="ffs-tabs-pane">
                            这是第二个标签页的内容。
                        </div>
                        <div class="ffs-tabs-pane">
                            这是第三个标签页的内容。
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 可拖拽页签 -->
        <section>
            <h2>可拖拽页签</h2>
            <div class="demo-box">
                <div class="ffs-tabs">
                    <div class="ffs-tabs-nav" id="draggable-tabs">
                        <a href="#" class="ffs-tabs-tab" draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" ondragover="dragOver(event)" ondrop="drop(event)">标签一</a>
                        <a href="#" class="ffs-tabs-tab" draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" ondragover="dragOver(event)" ondrop="drop(event)">标签二</a>
                        <a href="#" class="ffs-tabs-tab" draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" ondragover="dragOver(event)" ondrop="drop(event)">标签三</a>
                    </div>
                    <div class="ffs-tabs-content">
                        <div class="ffs-tabs-pane active">
                            这是第一个标签页的内容。
                        </div>
                        <div class="ffs-tabs-pane">
                            这是第二个标签页的内容。
                        </div>
                        <div class="ffs-tabs-pane">
                            这是第三个标签页的内容。
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 自定义页签 -->
        <section>
            <h2>自定义页签</h2>
            <div class="demo-box">
                <div class="ffs-tabs ffs-tabs-custom">
                    <div class="ffs-tabs-nav">
                        <a href="#" class="ffs-tabs-tab active" onclick="switchTab(this, 'custom1')">
                            <i class="fas fa-home ffs-tabs-tab-icon"></i>
                            首页
                            <span class="ffs-tabs-tab-badge">3</span>
                        </a>
                        <a href="#" class="ffs-tabs-tab" onclick="switchTab(this, 'custom2')">
                            <i class="fas fa-user ffs-tabs-tab-icon"></i>
                            用户
                            <span class="ffs-tabs-tab-badge">5</span>
                        </a>
                        <a href="#" class="ffs-tabs-tab" onclick="switchTab(this, 'custom3')">
                            <i class="fas fa-cog ffs-tabs-tab-icon"></i>
                            设置
                        </a>
                    </div>
                    <div class="ffs-tabs-extra">
                        <button class="ffs-button">
                            <i class="fas fa-plus"></i> 新建
                        </button>
                        <button class="ffs-button">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                    <div class="ffs-tabs-content">
                        <div id="custom1" class="ffs-tabs-pane active">
                            这是首页标签页的内容。
                        </div>
                        <div id="custom2" class="ffs-tabs-pane">
                            这是用户标签页的内容。
                        </div>
                        <div id="custom3" class="ffs-tabs-pane">
                            这是设置标签页的内容。
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <style>
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        section {
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .demo-box {
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--background-color);
        }
    </style>

    <script>
        // 切换标签页
        function switchTab(tab, paneId) {
            // 移除所有标签的active类
            tab.parentElement.querySelectorAll('.ffs-tabs-tab').forEach(t => {
                t.classList.remove('active');
            });
            // 添加当前标签的active类
            tab.classList.add('active');

            // 移除所有内容面板的active类
            tab.closest('.ffs-tabs').querySelectorAll('.ffs-tabs-pane').forEach(p => {
                p.classList.remove('active');
            });
            // 添加当前内容面板的active类
            document.getElementById(paneId).classList.add('active');
        }

        // 关闭标签页
        function closeTab(closeBtn) {
            const tab = closeBtn.parentElement;
            const tabs = tab.parentElement;
            const panes = tab.closest('.ffs-tabs').querySelectorAll('.ffs-tabs-pane');
            const index = Array.from(tabs.children).indexOf(tab);

            // 如果关闭的是当前激活的标签页，则激活下一个标签页
            if (tab.classList.contains('active')) {
                const nextTab = tabs.children[index + 1] || tabs.children[index - 1];
                if (nextTab) {
                    nextTab.click();
                }
            }

            // 移除标签页和对应的内容面板
            tab.remove();
            panes[index].remove();
        }

        // 拖拽相关函数
        let draggedTab = null;

        function dragStart(event) {
            draggedTab = event.target;
            event.target.classList.add('dragging');
        }

        function dragEnd(event) {
            event.target.classList.remove('dragging');
        }

        function dragOver(event) {
            event.preventDefault();
            const tab = event.target.closest('.ffs-tabs-tab');
            if (tab && tab !== draggedTab) {
                tab.classList.add('drag-over');
            }
        }

        function drop(event) {
            event.preventDefault();
            const tab = event.target.closest('.ffs-tabs-tab');
            if (tab && tab !== draggedTab) {
                const tabs = tab.parentElement;
                const allTabs = Array.from(tabs.children);
                const draggedIndex = allTabs.indexOf(draggedTab);
                const dropIndex = allTabs.indexOf(tab);

                // 移动标签页
                if (draggedIndex < dropIndex) {
                    tab.parentElement.insertBefore(draggedTab, tab.nextSibling);
                } else {
                    tab.parentElement.insertBefore(draggedTab, tab);
                }

                // 移动对应的内容面板
                const panes = tab.closest('.ffs-tabs').querySelectorAll('.ffs-tabs-pane');
                const draggedPane = panes[draggedIndex];
                const dropPane = panes[dropIndex];

                if (draggedIndex < dropIndex) {
                    dropPane.parentElement.insertBefore(draggedPane, dropPane.nextSibling);
                } else {
                    dropPane.parentElement.insertBefore(draggedPane, dropPane);
                }
            }

            // 移除拖拽样式
            tab.classList.remove('drag-over');
        }
    </script>
</body>
</html> 